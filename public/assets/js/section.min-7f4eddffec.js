"use strict";var RecentPlaceholderImage=React.createClass({displayName:"RecentPlaceholderImage",render:function(){return React.createElement("a",{href:"/"+(this.props.slug?this.props.slug:this.props.data.section_tag.slug)+"/"+this.props.data.id},React.createElement("img",{src:"/build/assets/images/placeholder_thumb.png",width:"100%"}))}}),RecentArticlePhoto=React.createClass({displayName:"RecentArticlePhoto",render:function(){return React.createElement("a",{href:"/"+(this.props.slug?this.props.slug:this.props.data.section_tag.slug)+"/"+this.props.data.id},React.createElement("img",{src:this.props.cdn+this.props.data.featured_media.photo.public_file.replace(".","_thumb."),width:"100%"}))}}),RecentArticleVideo=React.createClass({displayName:"RecentArticleVideo",render:function(){return React.createElement("div",{className:"youtube-thumb",style:{backgroundImage:"url(//img.youtube.com/vi/"+this.props.data.featured_media.youtube_id+"/0.jpg)"}},React.createElement("a",{href:"/"+(this.props.slug?this.props.slug:this.props.data.section_tag.slug)+"/"+this.props.data.id},React.createElement("img",{src:"/build/assets/images/transparent-thumb.png",width:"100%"})))}}),RecentArticle=React.createClass({displayName:"RecentArticle",render:function(){var e;e="photo"==this.props.data.featured_media.type?React.createElement(RecentArticlePhoto,{cdn:this.props.cdn,data:this.props.data,slug:this.props.slug}):"youtube video"==this.props.data.featured_media.type?React.createElement(RecentArticleVideo,{data:this.props.data,slug:this.props.slug}):React.createElement(RecentPlaceholderImage,{cdn:this.props.cdn,data:this.props.data,slug:this.props.slug});var t;return this.props.data.stat&&this.props.data.stat.comments&&(t=React.createElement("span",{className:"comments",style:{"float":"left"}},this.props.data.stat.comments)),React.createElement("div",{className:"col-md-4 col-sm-3 col-xs-6 float-right small"},React.createElement("div",{className:"row grid-view-listing section-recent"},React.createElement("div",{className:"col-md-6 col-md-push-6"},e),React.createElement("div",{className:"col-md-6 col-md-pull-6 text-right"},React.createElement("span",{className:"time"},this.props.data.formatted_date),t,React.createElement("br",{className:"clearfix"}),React.createElement("div",{className:"title"},React.createElement("a",{href:"/"+(this.props.slug?this.props.slug:this.props.data.section_tag.slug)+"/"+this.props.data.id},this.props.data.short_headline)))))}}),RecentArticleLoadMore=React.createClass({displayName:"RecentArticleLoadMore",render:function(){return React.createElement("div",{className:"col-xs-12 text-center"},React.createElement("a",{href:"javascript:void(0);",onClick:this.props.handleOnClick,className:"btn btn-default load-more"},"އިތުރު ލިޔުންތައް"))}}),RecentLoadingSpinner=React.createClass({displayName:"RecentLoadingSpinner",render:function(){return React.createElement("div",{className:"col-xs-12 text-center"},React.createElement("button",{className:"btn btn-default load-more disabled"}," ",React.createElement("i",{className:"fa fa-spinner fa-pulse",style:{position:"relative",top:"3px"}})," "))}}),RecentList=React.createClass({displayName:"RecentList",render:function(){var e,t=this.props.slug,a=this.props.cdn;e=this.props.data.map(function(e,s){return React.createElement(RecentArticle,{slug:t,data:e,cdn:a,key:e.id})});var s;return this.props.total>this.props.to&&0==this.props.loading?s=React.createElement(RecentArticleLoadMore,{handleOnClick:this.props.onLoadMoreClick}):1==this.props.loading&&(s=React.createElement(RecentLoadingSpinner,null)),React.createElement("div",null,e,s)}}),RecentArticles=React.createClass({displayName:"RecentArticles",getInitialState:function(){return{data:[],total:null,per_page:null,current_page:null,last_page:null,next_page_url:null,prev_page_url:null,from:null,to:null,loading:!1}},loadData:function(){this.setState({loading:!0}),$.ajax({url:this.state.next_page_url?this.state.next_page_url:"/json/dhivehi/"+this.props.slug+"/recent",data:{features:this.props.features,_token:$('meta[name="csrf-token"]').attr("content")},dataType:"json",method:"POST",cache:!1,success:function(e){this.setState({data:this.state.data.concat(e.data),total:e.total,per_page:e.per_page,current_page:e.current_page,last_page:e.last_page,next_page_url:e.next_page_url,prev_page_url:e.prev_page_url,from:e.from,to:e.to,loading:!1})}.bind(this),error:function(e,t,a){}.bind(this)})},componentDidMount:function(){this.setState({cdn:this.props.cdn}),this.loadData()},render:function(){return React.createElement(RecentList,{slug:this.props.slug,onLoadMoreClick:this.loadData,total:this.state.total,to:this.state.to,data:this.state.data,cdn:this.props.cdn.replace("%d",1),loading:this.state.loading})}});ReactDOM.render(React.createElement(RecentArticles,{slug:slug,cdn:cdn,features:features}),document.getElementById("articles-holder"));