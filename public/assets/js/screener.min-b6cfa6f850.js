"use strict";var Caption=React.createClass({displayName:"Caption",render:function(){return React.createElement("div",{className:"caption"+(1==this.props.active?" active":"")},this.props.caption)}}),Video=React.createClass({displayName:"Video",render:function(){var e,t;return this.props.media.caption&&(t=React.createElement(Caption,{active:this.props.caption,caption:this.props.media.caption})),e=React.createElement("div",{className:"col-sm-2 caption-col"},t),React.createElement("div",{className:"fullscreen-image-row"},React.createElement("div",{className:"image"},React.createElement("div",{className:"row"},React.createElement("div",{className:"img-cntnr"+(1==this.props.caption?" col-sm-10":" col-sm-12")},React.createElement("div",{className:"video"},React.createElement("iframe",{className:"auto-adjustable",src:"//www.youtube.com/embed/"+this.props.media.youtube_id+"?rel=0&amp;showinfo=0",frameborder:"0",allowfullscreen:!0}),React.createElement("img",{src:"/build/assets/images/transparent-medium.png",className:"fullscreen-img",width:"100%"}))),e)))}}),InstantImage=React.createClass({displayName:"InstantImage",render:function(){var e,t;this.props.media.caption&&(t=React.createElement(Caption,{active:this.props.caption,caption:this.props.media.caption.caption})),e=React.createElement("div",{className:"col-sm-2 caption-col"},t);var a,i=Math.floor(4*Math.random()+1),s=this.props.cdn.replace("%d",i);return a=s+this.props.media.photo.public_file.replace(".","_medium.")+" 992w, "+s+this.props.media.photo.public_file.replace(".","_large.")+" 1200w",React.createElement("div",{className:"fullscreen-image-row"},React.createElement("div",{className:"image"},React.createElement("div",{className:"row"},React.createElement("div",{className:"img-cntnr"+(1==this.props.caption?" col-sm-10":" col-sm-12")},React.createElement("div",{style:{position:"relative"}},React.createElement("img",{className:"fullscreen-img",src:s+this.props.media.photo.public_file.replace(".","_large."),srcSet:a}),React.createElement("div",{className:"grad"}))),e)))}}),Image=React.createClass({displayName:"Image",render:function(){var e,t;this.props.media.caption&&(t=React.createElement(Caption,{active:this.props.caption,caption:this.props.media.caption.caption})),e=React.createElement("div",{className:"col-sm-2 caption-col"},t);var a,i=Math.floor(4*Math.random()+1),s=this.props.cdn.replace("%d",i);return a=s+this.props.media.photo.public_file.replace(".","_medium.")+" 992w, "+s+this.props.media.photo.public_file.replace(".","_large.")+" 1200w, "+s+this.props.media.photo.public_file+" 1900w",React.createElement("div",{className:"fullscreen-image-row"},React.createElement("div",{className:"image"},React.createElement("div",{className:"row"},React.createElement("div",{className:"img-cntnr"+(1==this.props.caption?" col-sm-10":" col-sm-12")},React.createElement("div",{style:{position:"relative"}},React.createElement("img",{className:"fullscreen-img",src:s+this.props.media.photo.public_file.replace(".","_large."),srcSet:a}),React.createElement("div",{className:"grad"}))),e)))}}),ImageList=React.createClass({displayName:"ImageList",render:function(){var e=this.props.cdn,t=this.props.data.map(function(t,a){return"photo"==t.type?React.createElement(Image,{media:t,cdn:e,caption:this.props.caption,key:a}):"instant photo"==t.type?React.createElement(InstantImage,{media:t,cdn:e,caption:this.props.caption,key:a}):"youtube video"==t.type?React.createElement(Video,{media:t,key:a,caption:this.props.caption}):void 0},this);return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row no-gutter"},React.createElement("div",{className:"col-sm-1 col-sm-push-11 col-xs-12"},React.createElement("div",{className:"screener-header"},React.createElement("button",{className:"scrnr-btn clse",onClick:this.props.closeCallback}),React.createElement("button",{className:"scrnr-arrow right",onClick:this.props.onPrev}),React.createElement("button",{className:"scrnr-arrow left",onClick:this.props.onNext}),React.createElement("div",{className:"counter-container"},React.createElement("span",{className:"counter"},this.props.data.length),React.createElement("span",{className:"counter separator"},"-"),React.createElement("span",{className:"counter"},this.props.active+1)),React.createElement("button",{className:"scrnr-btn info hidden-xs",onClick:this.props.handleCaption}))),React.createElement("div",{className:"col-sm-11 col-sm-pull-1 col-xs-12"},React.createElement("div",{className:"fullscreen-image-slider"},t))))}}),Overlay=React.createClass({displayName:"Overlay",getInitialState:function(){return{open:!1,data:this.props.data,cdn:this.props.cdn,active:0,caption:!1}},register:function(){},updateCurrent:function(e,t,a){this.setState({active:a})},handleOpeners:function(e){e.preventDefault(),this.setState({open:!0});var t=$(e.target).attr("data-index");$(".fullscreen-image-slider").slick({rtl:!0,infinite:!0,arrows:!1,initialSlide:t-1}),$(".fullscreen-image-slider").on("afterChange",this.updateCurrent);var a=$(window).height()-($(".screener-header").height()+100),i=$(window).width();this.setState({height:a,width:i});var s=$(".fullscreen-image-slider .fullscreen-image-row .image .fullscreen-img").height(),c=$(".fullscreen-image-slider .fullscreen-image-row .image .fullscreen-img").width(),n=c/s,r=a*n,l=a,o=$(".fullscreen-image-slider .img-cntnr").width();r>o&&(r=o,l=r/n),c>a&&window.innerWidth<768&&(r=a*n,l=a,$(".fullscreen-img").css({height:l+"px",width:r+"px"}),$(".screener-header").css({padding:"10px 10px 0 0"})),$(".fullscreen-image-slider iframe.auto-adjustable").each(function(){var e=$(this).next();$(this).height(e.height()),$(this).width(e.width())}),$("body").addClass("no-scroll")},handleCaption:function(){this.setState({caption:1!=this.state.caption})},handleNext:function(){$(".fullscreen-image-slider").slick("slickNext")},handlePrev:function(){$(".fullscreen-image-slider").slick("slickPrev")},handleClosers:function(){$(".fullscreen-image-slider").slick("unslick"),$("body").removeClass("no-scroll"),this.setState({open:!1})},handleKeypress:function(e){27==e.which?this.handleClosers():37==e.which?this.handleNext():39==e.which&&this.handlePrev()},handleRegisters:function(){$(".image-expander").on("click",this.handleOpeners),$(".image-expander").next("img").on("click",this.handleOpeners)},componentDidMount:function(){$(".image-expander").on("click",this.handleOpeners),$(".image-expander").next("img").on("click",this.handleOpeners),$(".image-expander").next(".wide-photo").on("click",this.handleOpeners),$(document).on("keyup",this.handleKeypress)},render:function(){return React.createElement("div",{className:"fullscreen-overlay",style:{display:1==this.state.open?"block":"none"}},React.createElement("input",{type:"button",id:"screenerTriggers",style:{display:"none"},onClick:this.handleRegisters}),React.createElement(ImageList,{data:this.state.data,cdn:this.state.cdn,active:this.state.active,closeCallback:this.handleClosers,onNext:this.handleNext,onPrev:this.handlePrev,caption:this.state.caption,handleCaption:this.handleCaption}))}});ReactDOM.render(React.createElement(Overlay,{cdn:cdn,data:data}),document.getElementById("screener"));